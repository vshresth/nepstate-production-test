!function(e){"use strict";e(document).on("click","#rtcl-compare-panel-btn",(function(){e("#rtcl-compare-wrap").toggleClass("open")})).on("click",".rtcl-compare",(function(t){t.preventDefault();var r=this,c=e(r).data("listing_id"),a=e("#rtcl-compare-panel");c&&e.ajax({url:rtcl_compare.ajaxurl,type:"POST",data:{action:"rtcl_add_to_compare",listing_id:c},beforeSend:function(){},success:function(t){if(t.target=r,t.html){var c=e(t.html);a.find("#rtcl-compare-wrap").hasClass("open")?(c.find("#rtcl-compare-wrap").addClass("open"),a.remove(),e(document.body).append(c)):(a.remove(),e(document.body).append(c),c.find("#rtcl-compare-wrap").addClass("open")),"add"===t.type&&e(".rtcl-compare[data-listing_id="+t.listing_id+"]").addClass("selected"),"remove"===t.type&&(e(".rtcl-compare[data-listing_id="+t.listing_id+"]").removeClass("selected"),e(".rtcl-compare-table th[data-listing_id="+t.listing_id+"], .rtcl-compare-table td[data-listing_id="+t.listing_id+"]").remove())}else a.remove(),e("#rtcl-compare-content").replaceWith("<p class='rtcl-no-item-found'>"+t.no_item_selected_message+"</p>");t.limit_alert_message&&toastr.warning(t.limit_alert_message),e(document).trigger("rtcl.compare.added",t)}})})).on("click",".rtcl-compare-remove",(function(t){t.preventDefault();var r=this,c=e(r).data("listing_id"),a=e("#rtcl-compare-panel"),l=a.find("#rtcl-compare-wrap"),o=e("#rtcl-compare-content");c&&e.ajax({url:rtcl_compare.ajaxurl,type:"POST",data:{action:"rtcl_remove_from_compare",listing_id:c},beforeSend:function(){l.rtclBlock(),o.rtclBlock()},success:function(t){if(t.target=r,l.rtclUnblock(),o.rtclUnblock(),t.html){var c=e(t.html);a.find("#rtcl-compare-wrap").hasClass("open")&&c.find("#rtcl-compare-wrap").addClass("open"),a.remove(),e(document.body).append(c),e(".rtcl-compare[data-listing_id="+t.listing_id+"]").removeClass("selected"),e(".rtcl-compare-table th[data-listing_id="+t.listing_id+"], .rtcl-compare-table td[data-listing_id="+t.listing_id+"]").remove()}else a.remove(),e(".rtcl-compare[data-listing_id]").removeClass("selected"),e("#rtcl-compare-content").replaceWith("<p class='rtcl-no-item-found'>"+t.no_item_selected_message+"</p>");e(document).trigger("rtcl.compare.removed",t)},error:function(){l.rtclUnblock(),o.rtclUnblock(),toastr.error(rtcl_compare.server_error)}})})).on("click",".rtcl-compare-btn-clear",(function(t){t.preventDefault();var r=e("#rtcl-compare-panel").find("#rtcl-compare-wrap");e.ajax({url:rtcl_compare.ajaxurl,type:"POST",data:{action:"rtcl_clear_from_compare"},beforeSend:function(){r.rtclBlock(),e("#rtcl-compare-content").rtclBlock()},success:function(t){e("#rtcl-compare-panel").remove(),e(".rtcl-compare[data-listing_id]").removeClass("selected"),e("#rtcl-compare-content").replaceWith("<p class='rtcl-no-item-found'>"+t.data.no_item_selected_message+"</p>"),e(document).trigger("rtcl.compare.clear",t)},error:function(){r.rtclUnblock(),toastr.error(rtcl_compare.server_error)}})}))}(jQuery);